<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta</title>
<link rel="icon" type="image/png" href="icono.png">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>

/* --- ESTILOS BASE Y PANTALLAS INICIALES --- */
body {
font-family: "Poppins", sans-serif;
background-color: #fff; /* Fondo blanco por defecto */
display: flex;
flex-direction: column;
align-items: center;
/* CAMBIO 1: Eliminar height: 100vh; */
/* CAMBIO 2: A√±adir overflow-y: auto; para permitir el scroll en caso de contenido largo */
overflow-y: auto;
margin: 0;
text-align: center;
color: #333;
transition: background-color 0.5s ease;
}

/* Clase para el fondo degradado, se a√±ade/elimina con JS */
.degraded-bg {
  background: linear-gradient(
    135deg,
    #8b0000 0%,
    #b11226 30%,
    #0b6b3a 70%,
    #145a32 100%
  );
  background-attachment: fixed;
}
.degraded-bg::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  pointer-events: none;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.5) 2px, transparent 3px),
    radial-gradient(circle at 70% 40%, rgba(255,255,255,0.4) 2px, transparent 3px),
    radial-gradient(circle at 40% 80%, rgba(255,255,255,0.3) 2px, transparent 3px),
    radial-gradient(circle at 85% 15%, rgba(255,255,255,0.4) 2px, transparent 3px);
  background-size: 150px 150px;
  animation: snow 20s linear infinite;
  z-index: -1; /* ‚Üê importante */
}

@keyframes snow {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 0 600px;
  }
}

h2 {
margin-bottom: 20px;
}
.screen {
display: none;
animation: fadeIn 0.8s ease;
width: 90%;
max-width: 600px;
}
.active {
display: flex; 
flex-direction: column;
align-items: center;
justify-content: center;
/* Ajuste: Aplicar altura m√≠nima a las pantallas activas, pero dejar que crezca si el contenido es largo */
min-height: 100vh;
}

/* Sobreescribir altura m√≠nima para la pantalla de la carta, permitiendo scroll sin forzar centrado vertical r√≠gido */
#screen3.active {
 min-height: auto; /* Permitir que la altura se ajuste al contenido */
 height: auto;
 justify-content: flex-start; /* Alinear el contenido al inicio si hay scroll */
}
 
.main-img {
width: 280px;
height: auto;
margin-bottom: 15px;
cursor: pointer;
transition: transform 0.3s ease;
border: none;
box-shadow: none;
}
.main-img:hover {
transform: scale(1.05);
}
@keyframes fadeIn {
from {opacity: 0; transform: scale(0.95);}
to {opacity: 1; transform: scale(1);}
}

/* --- ESTILOS DE LA CARTA (PANTALLA 3 en adelante) --- */

.screen#screen3 {
 width: 100%;
 max-width: none;
 padding: 20px 0;
}

.notepad {
background-color: #ffffff;
border: 4px solid #cfae70;
padding: 30px; 
border-radius: 20px; 
width: 90%;
max-width: 500px;
text-align: left;
/* Nota: Se recomienda usar una fuente m√°s legible que 'Comic Sans MS' para textos largos */
font-family: 'Comic Sans MS', sans-serif; 
font-size: 1.2em;
line-height: 1.6;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
position: relative;
margin-bottom: 50px;
transition: box-shadow 0.3s ease;
box-shadow:
    0 0 15px rgba(207, 174, 112, 0.6),
    0 0 30px rgba(207, 174, 112, 0.4),
    0 0 60px rgba(207, 174, 112, 0.2);
animation: glow 5s ease-in-out infinite;
}
@keyframes glow {
  0% {
    box-shadow:
      0 0 10px rgba(207, 174, 112, 0.4),
      0 0 25px rgba(207, 174, 112, 0.3),
      0 0 50px rgba(207, 174, 112, 0.15);
  }
  50% {
    box-shadow:
      0 0 20px rgba(207, 174, 112, 0.8),
      0 0 45px rgba(207, 174, 112, 0.6),
      0 0 80px rgba(207, 174, 112, 0.35);
  }
  100% {
    box-shadow:
      0 0 10px rgba(207, 174, 112, 0.4),
      0 0 25px rgba(207, 174, 112, 0.3),
      0 0 50px rgba(207, 174, 112, 0.15);
  }
}

.notepad:hover {
box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}
.notepad h3 {
margin-top: 0;
color: #333333;
font-family: 'Poppins', sans-serif;
}
.notepad h4 {
color: #e91e63;
font-family: 'Poppins', sans-serif;
font-weight: 600;
}

.btn-container {
display: flex;
justify-content: space-between;
margin-top: 25px; 
}
.btn {
background-color: #ffffff;
border: 1px solid #ff79c6; 
color: #e91e63; 
padding: 10px 20px;
font-size: 16px;
border-radius: 25px; 
cursor: pointer;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
transition: all 0.3s ease;
font-weight: bold;
font-family: 'Poppins', sans-serif;
}
.btn:hover {
background-color: #ff79c6; 
color: white;
transform: translateY(-3px);
box-shadow: 0 6px 10px rgba(0,0,0,0.2);
}
/* Estilos del carrusel */
.carousel {
position: relative;
width: 90%;
max-width: 500px;
margin: 20px auto;
overflow: hidden;
border-radius: 15px;
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
.carousel-track {
display: flex;
transition: transform 0.6s ease-in-out;
width: 100%;
}
.carousel-track img {
width: 100%;
border-radius: 15px;
flex-shrink: 0;
object-fit: cover;
}
.carousel-btn {
position: absolute;
top: 50%;
transform: translateY(-50%);
background-color: #ff79c6;
color: white;
border: none;
font-size: 1.5em;
cursor: pointer;
padding: 8px 12px;
border-radius: 50%;
box-shadow: 0 2px 4px rgba(0,0,0,0.3);
opacity: 0.8;
transition: opacity 0.2s, background-color 0.2s;
}
.carousel-btn:hover {
background-color: #ff52a2;
opacity: 1;
}
.carousel-btn.prev { left: 10px; }
.carousel-btn.next { right: 10px; }
#updateDate {
  position: fixed;
  bottom: 10px;
  right: 14px;
  font-size: 12px;
  color: #888;
  font-family: 'Poppins', sans-serif;
  opacity: 0.8;
  transition: opacity 0.4s ease;
}
#wishStatus {
  animation: fadeIn 0.6s ease;
}
.letter-actions {
  display: flex;
  gap: 16px;
  margin-top: 25px;
  width: 100%;
}

.letter-actions .btn {
  flex: 1;
  text-align: center;
}
@media (max-width: 500px) {
  .letter-actions {
    flex-direction: column;
  }
}


</style>
</head>
<body>

 <div class="screen active" id="screen1">
<h2>¬°√Åbrelo!</h2>
<div id="updateDate"></div>
<img src="Gemini_Generated_Image_qhubhxqhubhxqhub.png" alt="Sobre" class="main-img" onclick="nextScreen(2)">
</div>

 <div class="screen" id="screen2">
<h2>¬øQu√© dir√°?</h2>
<img src="Gemini_Generated_Image_laor9alaor9alaor.png" alt="Carta lista" class="main-img" onclick="nextScreen(3, 1)"> 
</div>

 <div class="screen" id="screen3">
 <!-- <div class="notepad archived-letter" id="letter-2025-06" style="display:none;">
 <h3>üìÖ 12 de Diciembre de 2025</h3>
 <h4>üíå Para Naomi: </h4>
 <p>Sinceramente me hubiera gustado hablar contigo sobre esto una ultima vez en persona pero por una u otra raz√≥n no se di√≥.</p>
 <p>Bueno, primero que nada, queria dejar en claro que todo lo que hice: buscarte, darte tus flores favoritas, querer hablar contigo aunque fueran unos minutos, no fue por capricho. De verdad me llegaste a importar y s√≠ quer√≠a algo contigo. No s√© si fue por la conexi√≥n que sent√≠, por tu iniciativa o tu forma de ser, pero en muchos a√±os no me hab√≠a nacido hacer algo as√≠ por alguien.</p>
 <p>Decid√≠ cerrar este cap√≠tulo no por falta de inter√©s, sino por todo lo contrario. Me esforc√© porque realmente quer√≠a algo, pero ya entend√≠ que no iba a pasar. Y prefer√≠ despedirme bien, sin dejar malentendidos.</p>
 <p>Tal vez hablamos en un mal momento, o simplemente la chispa se perdi√≥. Aun as√≠, me hubiera encantado conocerte m√°s: tus miedos, tus metas, tus gustos. Quiz√° alg√∫n d√≠a podamos llevarnos bien en el trabajo y ser amigos, si se da.</p>
 <p>Por √∫ltimo, nada de lo que sent√≠ o demostr√© fue mentira. De verdad creo que mereces algo bonito con la persona correcta.</p>
 <p>Te deseo lo mejor en tus estudios, en tu familia y en tu vida.</p>
 <p>Gracias por lo que me hiciste sentir y por recordarme una parte de m√≠ que ten√≠a olvidada.</p>
 <div class="btn-container">
  <button class="btn" onclick="nextScreen(1)">üè† inicio</button>
  <button class="btn" onclick="window.location.href='https://fernandoiturbide.github.io/Flores/'">Flores</button>
  <button class="btn" onclick="showPage(3)">‚û° Siguiente</button>
  
 </div>
 </div> -->
 <div class="notepad" id="page2" style="display:none; text-align:center;">
 <img src="https://n9.cl/uw1f1q" alt="Foto especial" style="width:90%; max-width:350px; border-radius:15px; margin-bottom:15px;">
 <p style="text-align:justify;">
 Desde que llegaste a mi vida, todo cambi√≥ para bien; encontr√© en ti la paz que siempre busqu√© y la alegr√≠a que cre√≠ perdida. Me haces sentir completo(a), amado(a) y capaz de todo. Cada mirada tuya me recuerda por qu√© vale la pena cada d√≠a, y cada palabra tuya me da fuerzas para seguir. No necesito prometerte el mundo, solo quiero darte mi amor sincero, mi apoyo incondicional y mi deseo de compartir contigo cada instante de esta vida.
 </p>
 <div class="btn-container">
  <button class="btn" onclick="showPage(1)">‚¨Ö Anterior</button>
  <button class="btn" onclick="showPage(3)">‚û° Siguiente</button>
 </div>
 </div>

<div class="notepad"  id="page3" style="display:none; text-align:center;">
  <h4 id="wishTitle">üéÑ Pide un deseo</h4>

  <form id="wishForm">
    <textarea 
        name="deseo"
        placeholder="Escribe aqu√≠ tu deseo..."
        required
        style="width:100%; min-height:120px; padding:10px; border-radius:10px; border:1px solid #ccc; font-family:Poppins;"
    ></textarea>

    <button class="btn" type="button" onclick="nextScreen(3)">
        ‚¨Ö Regresar
    </button>

    <button class="btn" type="submit" style="margin-top:15px;">
        ‚ú® Enviar
    </button>
        

    <p id="wishStatus" style="display:none; margin-top:15px; color:#0b6b3a; font-weight:600;">
        üéÑ Deseo enviado ‚ú®
    </p>
    <button 
        id="wishBackBtn" 
        class="btn" 
        style="display:none; margin-top:20px;"
        onclick="nextScreen(3)"
        >
        ‚¨Ö Regresar
    </button>
    <button 
        id="wishBackBtn1" 
        class="btn" 
        style="display:none; margin-top:20px;"
        onclick="window.location.href='https://fernandoiturbide.github.io/Flores/'"
        >
        Flores
    </button>
    </form>

</div>

 <div class="notepad active-letter" id="letter-2025-12">
  <h3>üéÑ 22 de diciembre de 2025</h3>
<p>Acabo de actualizar la p√°gina. No s√©, sent√≠a que se desperdiciaba dejarla as√≠ en el abandono, entonces la actualizar√© de vez en cuando con nuevas cosas y sorpresas, para sacarte al menos una sonrisa.</p>
<p>Ahora que es Navidad, hice un apartado para que puedas pedir un deseo üéÅüéÄüéÑ</p>
<p>Lamentablemente ya no te dese√© feliz Navidad en persona, pero ojal√° te la pases muy bien.</p>
<p>pd. La pagina se ve mejor en computadora, todav√≠a no la adapto a celular üòÖ</p>
  <div class="letter-actions">
  <button class="btn" onclick="nextScreen(1)">üè† inicio</button>
  <button class="btn" onclick="showArchive()">üìÇ Cartas</button>
  <button class="btn" onclick="showPage(3)">Deseo ‚ú®</button>
</div>

</div>

 <div class="notepad">
 <h4>üì∏ Nuestros recuerdos</h4>
 <div class="carousel">
  <div class="carousel-track" id="carouselTrack">
  <img src="https://n9.cl/o11vrd" alt="Recuerdo 1">
  <img src="https://n9.cl/bf87g" alt="Recuerdo 2">
  <img src="https://n9.cl/ntjycw" alt="Recuerdo 3">
  <img src="https://n9.cl/ce2j0" alt="Recuerdo 4">
  </div>
  <button class="carousel-btn prev" onclick="moveSlide(-1)">&#10094;</button>
  <button class="carousel-btn next" onclick="moveSlide(1)">&#10095;</button>
 </div>
 <div class="btn-container">
  <button class="btn" onclick="showPage(2)">‚¨Ö Anterior</button>
  <button class="btn" onclick="nextScreen(1)">‚¨Ü Inicio</button>
 </div>
 </div>
</div>
<script>
 // Variables para el carrusel
 let currentSlide = 0;
 function moveSlide(direction) {
 const track = document.getElementById('carouselTrack');
 const slides = track.children.length;
 currentSlide += direction;
 if (currentSlide < 0) currentSlide = slides - 1;
 if (currentSlide >= slides) currentSlide = 0;
 track.style.transform = `translateX(-${currentSlide * 100}%)`;
 }
 
 // Funci√≥n principal para cambiar de pantalla
 function nextScreen(num) {
 const updateDate = document.getElementById("updateDate");
 const current = document.querySelector(".screen.active");
 const body = document.body;
 
 // Ocultar la pantalla actual
 if (current) current.classList.remove("active");
 
 // Mostrar la siguiente pantalla
 document.getElementById("screen" + num).classList.add("active");
 
 // L√≥gica para cambiar el fondo del body
 if (num === 3) {
  // Si vamos a la pantalla de la carta (screen3), a√±adir el fondo degradado
  body.classList.add("degraded-bg");
  if (updateDate) updateDate.style.opacity = "0";
 } else {
  if (updateDate) updateDate.style.opacity = "0.8";
  // Si vamos a cualquier otra pantalla (1 o 2), asegurar que el fondo sea blanco
  body.classList.remove("degraded-bg");
  currentSlide = 0; // Reiniciar el carrusel si volvemos al inicio
 }
 // Mostrar la primera p√°gina de la carta (page1) al entrar a screen3
 if (num === 3) showActiveLetter();
 }
 
 // Funci√≥n para cambiar las p√°ginas dentro de la carta (screen3)
 function showPage(n) {
 const pages = document.querySelectorAll('#screen3 .notepad');
 pages.forEach(p => p.style.display = 'none');
 
 // Mostrar la p√°gina espec√≠fica
 const pageToShow = document.getElementById('page' + n);
 if (pageToShow) pageToShow.style.display = 'block';
 
 // Si estamos en la p√°gina del carrusel, asegurarnos de que el carrusel est√© en el slide 0
 if (n === 3) {
  currentSlide = 0;
  const track = document.getElementById('carouselTrack');
  track.style.transform = `translateX(0%)`;
 }
 }
 function showArchive() {
  const archived = document.querySelectorAll('.archived-letter');
  archived.forEach(l => l.style.display = 'block');
}

 function showActiveLetter() {
  const letters = document.querySelectorAll('#screen3 .notepad');
  letters.forEach(l => l.style.display = 'none');

  const active = document.querySelector('.active-letter');
  if (active) active.style.display = 'block';
}

// Fecha autom√°tica de actualizaci√≥n
(function () {
  const dateElement = document.getElementById("updateDate");
  const today = new Date();

  const options = {
    day: "2-digit",
    month: "long",
    year: "numeric"
  };

  const formattedDate = today.toLocaleDateString("es-MX", options);
  dateElement.textContent = `Ultima actualizaci√≥n: 25 de diciembre de 2025`;
})();

// Env√≠o del deseo sin recargar (Formspree AJAX)
const wishForm = document.getElementById("wishForm");

if (wishForm) {
  wishForm.addEventListener("submit", function (e) {
    e.preventDefault();

    const formData = new FormData(wishForm);

    fetch("https://formspree.io/f/mbdrapjy", {
      method: "POST",
      body: formData,
      headers: {
        "Accept": "application/json"
      }
    })
    .then(response => {
      if (response.ok) {
        wishForm.querySelector("textarea").style.display = "none";
        wishForm.querySelectorAll("button").forEach(btn => {
            btn.style.display = "none";
            });
        const title = document.getElementById("wishTitle");
        if (title) title.style.display = "none";
        const status = document.getElementById("wishStatus");
        status.style.display = "block";
        const backBtn = document.getElementById("wishBackBtn");
        if (backBtn) backBtn.style.display = "inline-block";
        const backBtn1 = document.getElementById("wishBackBtn1");
        if (backBtn1) backBtn1.style.display = "inline-block";
      }
    })
    .catch(() => {
      alert("Ocurri√≥ un error, intenta m√°s tarde ‚ùÑÔ∏è");
    });
  });
}

</script>
</body>
</html>